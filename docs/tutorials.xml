<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Kishore Kumar Jagadeesan</title>
<link>jkkishore85.github.io/tutorials.html</link>
<atom:link href="jkkishore85.github.io/tutorials.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.4.555</generator>
<lastBuildDate>Tue, 16 Jul 2024 23:00:00 GMT</lastBuildDate>
<item>
  <title>Creating and Sharing a Self-Contained Quarto Document in SharePoint/Teams</title>
  <dc:creator>Kishore Kumar Jagadeesan</dc:creator>
  <link>jkkishore85.github.io/tutorials/2024-07-17-quartotutorial-sharepoint-01/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note no-icon callout-titled" title="TL;DR">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TL;DR
</div>
</div>
<div class="callout-body-container callout-body">
<p>This tutorial guides you through creating a self-contained HTML document using Quarto and sharing it on SharePoint or Microsoft Teams.</p>
<ol type="1">
<li><p><strong>Set Up</strong>: Install Quarto, R, and RStudio.</p></li>
<li><p><strong>Create a Project</strong>: Open RStudio and create a new Quarto project.</p></li>
<li><p><strong>Configure <code>_quarto.yml</code></strong>: Ensure your Quarto project configuration includes <code>self-contained: true</code>.</p></li>
<li><p><strong>Create Document</strong>: Write your content in <code>index.qmd</code> and save it.</p></li>
<li><p><strong>Render Document</strong>: Use <code>quarto_render</code> to generate a self-contained <code>index.html</code>.</p></li>
<li><p><strong>Upload and Share</strong>: Upload the <code>index.html</code> to SharePoint or Teams and share the link.</p></li>
</ol>
<p><strong>Common Issues</strong>:</p>
<ul>
<li><p>Check file paths and package installations if errors occur.</p></li>
<li><p>Verify permissions and file size limits for SharePoint uploads.</p></li>
</ul>
<p><strong>Use Cases</strong>:</p>
<ul>
<li>Data reports, project documentation, and educational materials.</li>
</ul>
<p>For more detailed steps and troubleshooting, refer to the full tutorial. Happy coding! 🚀</p>
</div>
</div>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>In this tutorial, you will learn how to create a self-contained HTML document using Quarto and share it on SharePoint or Microsoft Teams. A self-contained document embeds all resources, making it easy to distribute and share without external dependencies.</p>
</section>
<section id="background" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Background</h1>
<p>Quarto is a next-generation, open-source publishing system that allows you to create and share documents, presentations, websites, and more. It integrates seamlessly with <code>R</code>, <code>Python</code>, and <code>Julia</code>, making it a versatile tool for data scientists and analysts.</p>
<p><strong>SharePoint</strong> is a web-based collaborative platform that integrates with Microsoft Office. It is widely used for document management and storage, making it an ideal place to share your Quarto documents. Similarly, <strong>Microsoft Teams</strong> is a collaboration tool that allows you to share files and work together in real-time.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Why Self-Contained Documents?">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why Self-Contained Documents?
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Portability</strong>: All resources (images, CSS, JS) are embedded in a single HTML file.</li>
<li><strong>Ease of Sharing</strong>: Simple to share via email or upload to platforms like SharePoint.</li>
<li><strong>Offline Access</strong>: Users can access the content without an internet connection.</li>
</ul>
</div>
</div>
</section>
<section id="prerequisites" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Prerequisites</h1>
<ul>
<li><strong>Quarto Installation</strong>: Ensure Quarto is installed on your system. If not, follow the <a href="https://quarto.org/docs/get-started/">installation guide</a> on the Quarto website.</li>
<li><strong>R and RStudio</strong>: Ensure you have R and RStudio installed. Quarto integrates well with R for generating dynamic documents.</li>
</ul>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"quarto"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rmarkdown"</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggplot2"</span>))</span></code></pre></div>
</section>
<section id="step-by-step-guide" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Step-by-Step Guide</h1>
<section id="step-1-create-a-new-quarto-project" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="step-1-create-a-new-quarto-project"><span class="header-section-number">4.1</span> Step 1: Create a New Quarto Project</h2>
<ol type="1">
<li>Open RStudio.</li>
<li>Create a New Project: Go to <code>File</code> &gt; <code>New Project</code></li>
<li>Choose Project Type: Select <code>New Directory</code>, then <code>Quarto Project</code>.</li>
<li>Specify Project Details: Enter a project name and choose a directory. Click <code>Create Project</code>.</li>
<li>Load <code>R</code> libraries.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-2" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1">1</button><span id="annotated-cell-2-1" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(quarto)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2">2</button><span id="annotated-cell-2-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rmarkdown)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3">3</button><span id="annotated-cell-2-3" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Load the <code>quarto</code> package for rendering Quarto documents.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="2" data-code-annotation="2">Load the <code>rmarkdown</code> package, which provides rendering functions used by Quarto.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="3" data-code-annotation="3">Load the <code>ggplot2</code> package for data visualization.</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="step-2-configure-_quarto.yml" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="step-2-configure-_quarto.yml"><span class="header-section-number">4.2</span> Step 2: Configure <code>_quarto.yml</code></h2>
<ol type="1">
<li>Locate <code>_quarto.yml</code>: In the root directory of your new Quarto project, find the <code>_quarto.yml</code> file.</li>
<li>Edit <code>_quarto.yml</code>: Open <code>_quarto.yml</code> and add the following content to configure the project for self-contained HTML output.</li>
</ol>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">project</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb2-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">type</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> website</span></span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb2-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span></span>
<span id="cb2-6"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">self-contained</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">true</span></span></code></pre></div>
</section>
<section id="step-3-create-a-quarto-document" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="step-3-create-a-quarto-document"><span class="header-section-number">4.3</span> Step 3: Create a Quarto Document</h2>
<ol type="1">
<li><strong><em>Create a New Document:</em></strong> In RStudio, go to <code>File</code> &gt; <code>New File</code> &gt; <code>Quarto Document</code>.</li>
<li><strong><em>Save the Document:</em></strong> Save the new document as <code>index.qmd</code> in your project directory.</li>
<li><strong><em>Edit the Document:</em></strong> Add your content to <code>index.qmd.</code> Here is an example template:</li>
</ol>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb3-2"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">title:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Sample Quarto Document" </span></span>
<span id="cb3-3"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">author:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "Your Name" </span></span>
<span id="cb3-4"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">date:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> "2024-07-17" </span></span>
<span id="cb3-5"><span class="an" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">format:</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> html</span></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">---</span></span>
<span id="cb3-7"></span>
<span id="cb3-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"># Introduction</span></span>
<span id="cb3-9"></span>
<span id="cb3-10">This is a sample Quarto document that is self-contained and ready to be shared on SharePoint.</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">## Data Visualization Example</span></span>
<span id="cb3-13"></span>
<span id="cb3-14"><span class="in" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">```r</span></span>
<span id="cb3-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2) </span>
<span id="cb3-16"></span>
<span id="cb3-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(mtcars, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> wt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> mpg)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb3-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div>
</section>
<section id="step-4-render-the-quarto-document" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="step-4-render-the-quarto-document"><span class="header-section-number">4.4</span> Step 4: Render the Quarto Document</h2>
<ul>
<li>Render the Document: In RStudio, click the Render button or run the following command in the console:</li>
</ul>
<div class="sourceCode" id="annotated-cell-5" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1">1</button><span id="annotated-cell-5-1" class="code-annotation-target">quarto<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">quarto_render</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"index.qmd"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="1" data-code-annotation="1">Render the Quarto document to a self-contained HTML file</span>
</dd>
</dl>
<ul>
<li>Check Output: After rendering, you should see an <code>index.html</code> file in your project directory. This file is self-contained and includes all necessary resources.</li>
</ul>
</section>
<section id="step-5-upload-to-sharepoint" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="step-5-upload-to-sharepoint"><span class="header-section-number">4.5</span> Step 5: Upload to SharePoint</h2>
<ul>
<li><strong><em>Access SharePoint:</em></strong> Open your SharePoint site in a web browser.</li>
<li><strong><em>Navigate to Document Library:</em></strong> Go to the document library where you want to upload your file.</li>
<li><strong><em>Upload the HTML File:</em></strong> Click <code>Upload</code> and select the <code>index.html</code> file from your Quarto project directory.</li>
<li><strong><em>Share the Document:</em></strong> Once uploaded, you can share the document with others by generating a SharePoint link.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled" title="Rendering Quarto">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Rendering Quarto
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use <code>Ctrl + Shift + K</code> in RStudio to quickly render your Quarto document.</p>
</div>
</div>
</section>
<section id="step-6-verify-and-share" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="step-6-verify-and-share"><span class="header-section-number">4.6</span> Step 6: Verify and Share</h2>
<ul>
<li><strong><em>Verify the Document:</em></strong> Open the uploaded HTML file in SharePoint to ensure it displays correctly. `- <strong><em>Share the Link:</em></strong> Copy the SharePoint link and share it with your audience.</li>
</ul>
<div class="callout callout-style-default callout-caution callout-titled" title="Troubleshooting">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Troubleshooting
</div>
</div>
<div class="callout-body-container callout-body">
<p>When things go wrong, here are some troubleshooting tips to help you diagnose and fix common issues:</p>
<ul>
<li><strong><em>Incorrect File Paths:</em></strong> Ensure that the file paths in your <code>_quarto.yml</code> and document are correct. Check for typos or incorrect directory names.</li>
<li><strong><em>Missing Packages:</em></strong> If you encounter errors related to missing packages, ensure all required packages are installed. Use install.packages(“packageName”) to install any missing packages.</li>
<li><strong><em>Rendering Issues:</em></strong> If the document does not render correctly, check the console for error messages. Ensure that the self-contained: true option is correctly set in <code>_quarto.yml</code>.</li>
<li><strong><em>SharePoint Upload Problems:</em></strong> Ensure you have the necessary permissions to upload files to the SharePoint document library. Check the file size limit for uploads. Large files might need to be compressed or split.</li>
<li><strong><em>External Resource Loading:</em></strong> Ensure all external resources (e.g., images, scripts) are correctly embedded in the document. The self-contained option should handle this, but double-check if issues arise.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="faqs" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> FAQs</h1>
<p>Q. Can I use other languages with Quarto?</p>
<p>A. Yes, Quarto supports <code>R</code>, <code>Python</code>, and <code>Julia.</code> You can mix and match these languages within a single document.</p>
<p>Q. How do I update my document?</p>
<p>A. Simply edit the <code>.qmd</code> file and render it again using <code>quarto_render</code>. Upload the new <code>HTML</code> file to SharePoint or Teams to replace the old version.</p>
<p>Q. Is there a way to version control my Quarto project?</p>
<p>A. Yes, using Git for version control is highly recommended. It allows you to track changes, collaborate with others, and manage different versions of your project.</p>
</section>
<section id="conclusion" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Conclusion</h1>
<p>By following these steps, you can create a self-contained HTML document using Quarto and share it on SharePoint. This ensures your document is portable, easy to share, and accessible without external dependencies. With this approach, you can effectively distribute your content and provide a seamless experience for your audience.</p>
</section>
<section id="additional-resources" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Additional Resources</h1>
<ul>
<li><a href="https://quarto.org/docs/">Quarto Documentation</a>.</li>
<li><a href="https://www.rstudio.com/">RStudio</a></li>
<li><a href="https://support.microsoft.com/en-us/sharepoint">SharePoint Help</a></li>
</ul>
<p>By mastering these steps, you can ensure your documents are well-prepared for sharing and distribution, enhancing your collaborative and presentation efforts.</p>
<p>We hope you found this tutorial helpful. If you have any questions or feedback, please feel free to leave a comment below. We appreciate your input and are always looking to improve our content. Happy coding! 🚀</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{kumar jagadeesan2024,
  author = {Kumar Jagadeesan, Kishore},
  title = {Creating and {Sharing} a {Self-Contained} {Quarto} {Document}
    in {SharePoint/Teams}},
  date = {2024-07-17},
  url = {https://jkkishore85.github.io/tutorials/2024-07-17-quartotutorial-sharepoint-01/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kumar jagadeesan2024" class="csl-entry quarto-appendix-citeas">
Kumar Jagadeesan, Kishore. 2024. <span>“Creating and Sharing a
Self-Contained Quarto Document in SharePoint/Teams.”</span> July 17,
2024. <a href="https://jkkishore85.github.io/tutorials/2024-07-17-quartotutorial-sharepoint-01/">https://jkkishore85.github.io/tutorials/2024-07-17-quartotutorial-sharepoint-01/</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>R Tutorial</category>
  <category>Quarto</category>
  <category>Quarto Tutorial</category>
  <category>Sharepoint</category>
  <category>Teams</category>
  <guid>jkkishore85.github.io/tutorials/2024-07-17-quartotutorial-sharepoint-01/</guid>
  <pubDate>Tue, 16 Jul 2024 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Creating Interactive Maps with R: A Beginner’s Guide Using ggplot2 and leaflet</title>
  <dc:creator>Kishore Kumar Jagadeesan</dc:creator>
  <link>jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/</link>
  <description><![CDATA[ 





<div class="callout callout-style-default callout-note no-icon callout-titled" title="TL;DR">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TL;DR
</div>
</div>
<div class="callout-body-container callout-body">
<p>In this tutorial, you’ll learn how to create static maps using <code>ggplot2</code> and interactive maps using <code>leaflet</code> in R. We’ll cover the basics, provide code examples, and include tips and troubleshooting advice. By the end, you’ll be able to create customized maps to visualize geographic data effectively.</p>
</div>
</div>
<p>Welcome to this step-by-step tutorial where you’ll learn how to create beautiful and interactive maps using R. We’ll be using two powerful R packages: <code>ggplot2</code> for static maps and <code>leaflet</code> for interactive maps. Whether you’re a beginner or looking to refine your mapping skills, this guide will walk you through the basics and provide some handy tips and tricks along the way.</p>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>Mapping is a crucial part of data visualization, helping to present geographic data in an easily understandable way. In this tutorial, we will:</p>
<ol type="1">
<li>Create a static map using <code>ggplot2</code>.</li>
<li>Create an interactive map using <code>leaflet</code>.</li>
</ol>
<p>By the end of this guide, you will have a good understanding of how to create and customize maps in R.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="When to Use Which">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
When to Use Which
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>ggplot2</strong>: Ideal for static visualizations and publication-quality maps.</li>
<li><strong>leaflet</strong>: Perfect for interactive and dynamic maps that engage users.</li>
</ul>
</div>
</div>
</section>
<section id="prerequisites" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Prerequisites</h1>
<p>Ensure you have R and RStudio installed on your computer. You will also need to install the necessary packages.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggplot2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magrittr"</span>,  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sf"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"leaflet"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rnaturalearth"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rnaturalearthdata"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggspatial"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggrepel"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"htmlwidgets"</span>))</span></code></pre></div>
</section>
<section id="creating-a-static-map-with-ggplot2" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Creating a Static Map with ggplot2</h1>
<section id="step-1-load-the-libraries" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="step-1-load-the-libraries"><span class="header-section-number">3.1</span> Step 1: Load the Libraries</h2>
<p>First, load the required libraries.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-2" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1">1</button><span id="annotated-cell-2-1" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2">2</button><span id="annotated-cell-2-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(magrittr)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3">3</button><span id="annotated-cell-2-3" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rnaturalearth)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="4">4</button><span id="annotated-cell-2-4" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(rnaturalearthdata)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="5">5</button><span id="annotated-cell-2-5" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(sf)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Load the <code>ggplot2</code> package for data visualization.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="2" data-code-annotation="2">Load the <code>magrittr</code> package for pipe operations.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="3" data-code-annotation="3">Load the <code>rnaturalearth</code> package to access natural earth map data.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="4" data-code-annotation="4">Load the <code>rnaturalearthdata</code> package for additional natural earth data.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="5" data-code-annotation="5">Load the <code>sf</code> package for handling spatial data.</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="step-2-load-the-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="step-2-load-the-data"><span class="header-section-number">3.2</span> Step 2: Load the Data</h2>
<p>For this tutorial, we’ll use the <code>rnaturalearth</code> package, which provides natural earth vector map data in various scales. We’ll load world map data using this package.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-3" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1">1</button><span id="annotated-cell-3-1" class="code-annotation-target">world_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> rnaturalearth<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ne_countries</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scale =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"medium"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">returnclass =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sf"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-lines="1" data-code-annotation="1">Loads the world map data at a <code>medium</code> scale and returns it as an <code>sf</code> (simple features) object.</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="step-3-create-the-map" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="step-3-create-the-map"><span class="header-section-number">3.3</span> Step 3: Create the Map</h2>
<p>We’ll use <code>ggplot2</code> to plot the world map.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-4" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1">1</button><span id="annotated-cell-4-1" class="code-annotation-target">ggplot_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(world_map) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2">2</button><span id="annotated-cell-4-2" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_sf</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="3">3</button><span id="annotated-cell-4-3" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="4">4</button><span id="annotated-cell-4-4" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"World Map"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Longitude"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latitude"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-4-5">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="annotated-cell-4-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gray</span>(.<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>), </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="5">5</button><span id="annotated-cell-4-7" class="code-annotation-target">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="6">6</button><span id="annotated-cell-4-8" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aliceblue"</span>))</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="7">7</button><span id="annotated-cell-4-9" class="code-annotation-target">ggplot_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="1" data-code-annotation="1">Create a <code>ggplot</code> object using world_map data.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="2" data-code-annotation="2">Plot the geographic features using <code>geom_sf</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="3" data-code-annotation="3">Apply a minimal theme to the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="4" data-code-annotation="4">Add title and axis labels.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="7" data-code-annotation="5">Customize the major grid lines.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="8" data-code-annotation="6">Set the background colour to <code>aliceblue</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="9" data-code-annotation="7">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/index_files/figure-html/ggplot_map01-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="step-4-save-the-map" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="step-4-save-the-map"><span class="header-section-number">3.4</span> Step 4: Save the Map</h2>
<p>Once the final map is prepared, it can be conveniently saved in various formats using the <code>ggsave()</code> function. The formats include the widely used PNG (a raster bitmap) and PDF (vector graphics), with the ability to control the size and resolution of the output. In this case, we are saving a PDF version of the map, which maintains the highest quality, and a PNG version for web usage</p>
<div class="sourceCode" id="annotated-cell-5" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1">ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggsave</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggplot_map.png"</span>, </span>
<span id="annotated-cell-5-2">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot=</span> ggplot_map, </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1">1</button><span id="annotated-cell-5-3" class="code-annotation-target">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dpi =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"screen"</span>)</span>
<span id="annotated-cell-5-4">ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggsave</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ggplot_map.pdf"</span>, </span>
<span id="annotated-cell-5-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot=</span> ggplot_map, </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2">2</button><span id="annotated-cell-5-6" class="code-annotation-target">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dpi =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="3" data-code-annotation="1">Save map as a <code>PNG</code> file with <code>screen</code> resolution.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="6" data-code-annotation="2">Save map as a <code>PDF</code> file with <code>300</code> dpi resolution</span>
</dd>
</dl>
<div class="callout callout-style-default callout-tip callout-titled" title="ggsave()">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
ggsave()
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you’re creating a <code>PDF</code> for web use, a <code>dpi</code> of <code>72</code> is usually sufficient. If you’re creating a <code>PDF</code> for print, a <code>dpi</code> of <code>300</code> or higher is recommended. If you’re not sure what <code>dpi</code> to use, it’s best to check with your printer or the specifications of the website where you plan to upload the <code>PDF.</code></p>
</div>
</div>
</section>
<section id="customizing-the-static-map" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="customizing-the-static-map"><span class="header-section-number">3.5</span> Customizing the Static Map</h2>
<section id="adding-additional-layers-an-example-with-points" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="adding-additional-layers-an-example-with-points"><span class="header-section-number">3.5.1</span> Adding additional layers: An Example with Points</h3>
<p>To make your static map more informative and visually appealing, you can add additional layers such as points representing specific locations. Here’s how to do it step-by-step.</p>
<section id="step-1-create-a-data-frame-with-location-data" class="level4" data-number="3.5.1.1">
<h4 data-number="3.5.1.1" class="anchored" data-anchor-id="step-1-create-a-data-frame-with-location-data"><span class="header-section-number">3.5.1.1</span> Step 1: Create a Data Frame with Location Data</h4>
<p>First, create a data frame containing the locations you want to plot on the map.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-6" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1">1</button><span id="annotated-cell-6-1" class="code-annotation-target">sites <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="2">2</button><span id="annotated-cell-6-2" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">city =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Bath"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Keynsham"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Bristol"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Chippenham"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trowbridge"</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="3">3</button><span id="annotated-cell-6-3" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">latitude =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.380001</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.41505900</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.45451300</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.45805800</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.31966400</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="4">4</button><span id="annotated-cell-6-4" class="code-annotation-target">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">longitude =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.360000</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.50252600</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.58791000</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.11607390</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.20885300</span>))</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="5">5</button><span id="annotated-cell-6-5" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(sites)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="1" data-code-annotation="1">Create a data frame named sites.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="2" data-code-annotation="2">Define the city column with city names.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="3" data-code-annotation="3">Define the latitude column with the corresponding latitudes.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="4" data-code-annotation="4">Define the longitude column with the corresponding longitudes.</span>
</dd>
<dt data-target-cell="annotated-cell-6" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="5" data-code-annotation="5">Display the <code>sites</code> data frame.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>        city latitude longitude
1       Bath 51.38000 -2.360000
2   Keynsham 51.41506 -2.502526
3    Bristol 51.45451 -2.587910
4 Chippenham 51.45806 -2.116074
5 Trowbridge 51.31966 -2.208853</code></pre>
</div>
</div>
</section>
<section id="step-2-plot-the-map-with-additional-layers" class="level4" data-number="3.5.1.2">
<h4 data-number="3.5.1.2" class="anchored" data-anchor-id="step-2-plot-the-map-with-additional-layers"><span class="header-section-number">3.5.1.2</span> Step 2: Plot the Map with Additional Layers</h4>
<p>Next, use <code>ggplot2</code> to create a map with the world map data and add points from the sites data frame.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-7" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1">1</button><span id="annotated-cell-7-1" class="code-annotation-target">ggplot_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(world_map) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="2">2</button><span id="annotated-cell-7-2" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_sf</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="3">3</button><span id="annotated-cell-7-3" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> sites, ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> longitude, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> latitude), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="4">4</button><span id="annotated-cell-7-4" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="5">5</button><span id="annotated-cell-7-5" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"My Map"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Longitude"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latitude"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="6">6</button><span id="annotated-cell-7-6" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_sf</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.6</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">50.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">52</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-7-7">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="annotated-cell-7-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gray</span>(.<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>), </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="7">7</button><span id="annotated-cell-7-9" class="code-annotation-target">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="8">8</button><span id="annotated-cell-7-10" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aliceblue"</span>))</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="9">9</button><span id="annotated-cell-7-11" class="code-annotation-target">ggplot_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="1" data-code-annotation="1">Create a <code>ggplot</code> object using world_map data.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="2" data-code-annotation="2">Plot the geographic features using <code>geom_sf</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="3" data-code-annotation="3">Add points from sites data with longitude and latitude, customized size, shape, and fill colour.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="4" data-code-annotation="4">Apply a minimal theme to the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="5" data-code-annotation="5">Add title and axis labels.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="6" data-code-annotation="6">Set the spatial coordinates to focus.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="9" data-code-annotation="7">Customize the major grid lines.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="10" data-code-annotation="8">Set the background colour to <code>aliceblue</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="11" data-code-annotation="9">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/index_files/figure-html/ggplot_map02-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>By following these steps, you can add various layers to your static maps, enhancing the visualization with additional data points and custom styling.</p>
</section>
</section>
</section>
</section>
<section id="creating-an-interactive-map-with-leaflet" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Creating an Interactive Map with Leaflet</h1>
<section id="step-1-load-the-libraries-1" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="step-1-load-the-libraries-1"><span class="header-section-number">4.1</span> Step 1: Load the Libraries</h2>
<p>Load the <code>leaflet</code> library</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-8" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1">1</button><span id="annotated-cell-8-1" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(leaflet)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="1" data-code-annotation="1">Load the <code>leaflet</code> package for interactive maps.</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="step-2-create-the-map" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="step-2-create-the-map"><span class="header-section-number">4.2</span> Step 2: Create the Map</h2>
<p>We’ll create an interactive map centered on a specific location.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-9" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1">1</button><span id="annotated-cell-9-1" class="code-annotation-target">leaflet_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="2">2</button><span id="annotated-cell-9-2" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addTiles</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="3">3</button><span id="annotated-cell-9-3" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addMarkers</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.09</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.505</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, London!"</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="4">4</button><span id="annotated-cell-9-4" class="code-annotation-target">leaflet_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="1" data-code-annotation="1">Initialize a <code>leaflet</code> map object.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="2" data-code-annotation="2">Add default <code>OpenStreetMap</code> tiles to the map.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="3" data-code-annotation="3">Add a marker at the specified longitude and latitude with a popup message.</span>
</dd>
<dt data-target-cell="annotated-cell-9" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="4" data-code-annotation="4">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-2eb8bef4e12f80b201ef" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2eb8bef4e12f80b201ef">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[51.505,-0.09,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"Hello, London!",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[51.505,51.505],"lng":[-0.09,-0.09]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Explore Different Basemaps">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Explore Different Basemaps
</div>
</div>
<div class="callout-body-container callout-body">
<p>Change the basemap using <code>addProviderTiles()</code> function, e.g., <code>addProviderTiles(providers$Stamen.Toner)</code></p>
</div>
</div>
</section>
<section id="step-3-customize-the-map" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="step-3-customize-the-map"><span class="header-section-number">4.3</span> Step 3: Customize the Map</h2>
<p>Let’s add more features, such as multiple markers and custom popups.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-10" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1">1</button><span id="annotated-cell-10-1" class="code-annotation-target">leaflet_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="2">2</button><span id="annotated-cell-10-2" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addTiles</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="3">3</button><span id="annotated-cell-10-3" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addMarkers</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.09</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.505</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.51</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="4">4</button><span id="annotated-cell-10-4" class="code-annotation-target">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, London!"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Another Location"</span>))</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="5">5</button><span id="annotated-cell-10-5" class="code-annotation-target">leaflet_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="1" data-code-annotation="1">Initialize a <code>leaflet</code> map object.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="2" data-code-annotation="2">Add default <code>OpenStreetMap</code> tiles to the map.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="3" data-code-annotation="3">Add multiple markers at specified longitudes and latitudes.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="4" data-code-annotation="4">Add custom popup messages for each marker.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="5" data-code-annotation="5">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-36be9825c031573ebc7c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-36be9825c031573ebc7c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[51.505,51.51],[-0.09,-0.1],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Hello, London!","Another Location"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[51.505,51.51],"lng":[-0.1,-0.09]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="additional-customizations" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Additional Customizations</h1>
<section id="advanced-ggplot2-features" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="advanced-ggplot2-features"><span class="header-section-number">5.1</span> Advanced ggplot2 Features</h2>
<p>To enhance your static maps further, you can customize themes, add annotations, and use scale transformations. These advanced features can make your map more informative and visually appealing.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-11" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1">1</button><span id="annotated-cell-11-1" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggspatial)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="2">2</button><span id="annotated-cell-11-2" class="code-annotation-target"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggrepel)</span>
<span id="annotated-cell-11-3"></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="3">3</button><span id="annotated-cell-11-4" class="code-annotation-target">ggplot_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(world_map) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="4">4</button><span id="annotated-cell-11-5" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_sf</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="5">5</button><span id="annotated-cell-11-6" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> sites, ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> longitude, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> latitude), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">shape =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkred"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-11-7">  ggrepel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text_repel</span> (<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span>  sites,</span>
<span id="annotated-cell-11-8">            ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> longitude, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> latitude,</span>
<span id="annotated-cell-11-9">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label=</span> city), </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="6">6</button><span id="annotated-cell-11-10" class="code-annotation-target">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="7">7</button><span id="annotated-cell-11-11" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="8">8</button><span id="annotated-cell-11-12" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"My Map"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Longitude"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latitude"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="9">9</button><span id="annotated-cell-11-13" class="code-annotation-target">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_sf</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.6</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ylim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">50.5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">52</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">expand =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-11-14">  ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="annotated-cell-11-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gray</span>(.<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>), </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="10">10</button><span id="annotated-cell-11-16" class="code-annotation-target">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="11">11</button><span id="annotated-cell-11-17" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aliceblue"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-11-18">  ggspatial<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotation_north_arrow</span>(</span>
<span id="annotated-cell-11-19">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">location =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tl"</span>,</span>
<span id="annotated-cell-11-20">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pad_x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>),</span>
<span id="annotated-cell-11-21">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pad_y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"in"</span>),</span>
<span id="annotated-cell-11-22">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">style =</span> ggspatial<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">north_arrow_fancy_orienteering</span>(</span>
<span id="annotated-cell-11-23">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">line_col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>,</span>
<span id="annotated-cell-11-24">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="12">12</button><span id="annotated-cell-11-25" class="code-annotation-target">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text_col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="annotated-cell-11-26">  ggspatial<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">annotation_scale</span>(</span>
<span id="annotated-cell-11-27">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">location =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"br"</span>,</span>
<span id="annotated-cell-11-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width_hint =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>,</span>
<span id="annotated-cell-11-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text_cex =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,</span>
<span id="annotated-cell-11-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pad_x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="13">13</button><span id="annotated-cell-11-31" class="code-annotation-target">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pad_y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unit</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cm"</span>))</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="14">14</button><span id="annotated-cell-11-32" class="code-annotation-target">ggplot_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="1" data-code-annotation="1">Load the <code>ggspatial</code> package for spatial annotations.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="2" data-code-annotation="2">Load the <code>ggrepel</code> package for repelling text labels.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="4" data-code-annotation="3">Create a <code>ggplot</code> object using <code>world_map</code> data.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="5" data-code-annotation="4">Plot the geographic features using <code>geom_sf</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="6" data-code-annotation="5">Add points from sites data with longitude and latitude, customized size, shape, and fill colour.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="10" data-code-annotation="6">Add repelled text labels for city names using <code>ggrepel</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="11" data-code-annotation="7">Apply a minimal theme to the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="12" data-code-annotation="8">Add title and axis labels.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="9">9</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="13" data-code-annotation="9">Set the spatial coordinates to focus.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="10">10</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="16" data-code-annotation="10">Customize the major grid lines.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="11">11</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="17" data-code-annotation="11">Set the background colour to <code>aliceblue</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="12">12</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="25" data-code-annotation="12">Add a north arrow annotation at the top left of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="13">13</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="31" data-code-annotation="13">Add a scale bar annotation at the bottom right of the plot.</span>
</dd>
<dt data-target-cell="annotated-cell-11" data-target-annotation="14">14</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="32" data-code-annotation="14">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/index_files/figure-html/ggplot_map03-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="advanced-leaflet-features" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="advanced-leaflet-features"><span class="header-section-number">5.2</span> Advanced leaflet Features</h2>
<p>For interactive maps, <code>leaflet</code> offers advanced features that allow you to add layers, custom controls, and integrate with other web technologies.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Polygons and Circles">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Polygons and Circles
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use <code>addPolygons()</code> and <code>addCircles()</code> to highlight specific areas on your map.</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="annotated-cell-12" style="background: #f1f3f5;"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1">1</button><span id="annotated-cell-12-1" class="code-annotation-target">leaflet_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2">2</button><span id="annotated-cell-12-2" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addTiles</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="3">3</button><span id="annotated-cell-12-3" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addMarkers</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.09</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.505</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, London!"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="4">4</button><span id="annotated-cell-12-4" class="code-annotation-target">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addCircles</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.51</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">weight =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">radius =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="5">5</button><span id="annotated-cell-12-5" class="code-annotation-target">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">popup =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Circle around another location"</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="6">6</button><span id="annotated-cell-12-6" class="code-annotation-target">leaflet_map</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code></pre></div>
</details>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1">Initialize a <code>leaflet</code> map object.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="2" data-code-annotation="2">Add default <code>OpenStreetMap</code> tiles to the map.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="3" data-code-annotation="3">Add a marker at the specified longitude and latitude with a popup message.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="4" data-code-annotation="4">Add a circle at the specified longitude and latitude with a specified weight and radius.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="5" data-code-annotation="5">Add a popup message for the circle.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="6" data-code-annotation="6">Display the map.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-f87f6d451478c4f75abb" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f87f6d451478c4f75abb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[51.505,-0.09,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"Hello, London!",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addCircles","args":[51.51,-0.1,50,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":1,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},"Circle around another location",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[51.505,51.51],"lng":[-0.1,-0.09]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>These advanced features in ggplot2 and leaflet enable you to create detailed, informative, and visually appealing maps, whether they are static or interactive. By leveraging these tools, you can effectively communicate geographic data to your audience.</p>
<div class="callout callout-style-default callout-warning callout-titled" title="Common Mistakes">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common Mistakes
</div>
</div>
<div class="callout-body-container callout-body">
<p>When creating maps in R, there are a few common mistakes that can lead to errors or unexpected results. Here are some tips to help you avoid these pitfalls:</p>
<ul>
<li><strong><em>Wrong Coordinates:</em></strong> Ensure your longitude and latitude values are correct; otherwise, your markers will not appear where expected.</li>
<li><strong><em>Missing Libraries:</em></strong> Always load the necessary libraries before running your code.</li>
<li><strong><em>Incorrect Data Types:</em></strong> Make sure your longitude and latitude columns are numeric. If they are factors or characters, convert them using as.numeric().</li>
<li><strong><em>Mismatched Coordinate Reference Systems (CRS):</em></strong> Ensure your spatial data and map layers use the same CRS to avoid misalignment.</li>
<li><strong><em>Overlapping Layers:</em></strong> Be careful with the order of layers in ggplot2. Layers added later will be on top of earlier ones, which might obscure important data.</li>
<li><strong><em>Improper Aesthetics Mapping:</em></strong> Double-check that the <code>aes()</code> function correctly maps your data columns to aesthetics in <code>ggplot2</code>.</li>
<li><strong><em>Forgetting to Print the Plot:</em></strong> In scripts or R Markdown documents, ensure you explicitly print the <code>ggplot</code> object to render the plot.</li>
<li><strong><em>Large Data Sets:</em></strong> For very large spatial data sets, rendering can be slow. Consider simplifying your data or using more efficient packages like <code>sf</code>.</li>
<li><strong><em>Incorrect File Paths:</em></strong> When loading spatial data from files, ensure the file paths are correct and the files are accessible.</li>
<li><strong><em>Not Saving Plots:</em></strong> If you want to save your plots, use functions like <code>ggsave()</code> for <code>ggplot2</code> maps and <code>htmlwidgets::saveWidget()</code> for <code>leaflet</code> maps.</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled" title="Troubleshooting">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Troubleshooting
</div>
</div>
<div class="callout-body-container callout-body">
<p>When things go wrong, here are some troubleshooting tips to help you diagnose and fix common issues:</p>
<ul>
<li><strong><em>Error: Object not found:</em></strong> Ensure all objects (e.g., data frames, variables) are defined in your environment.</li>
<li><strong><em>Map not displaying:</em></strong> Check your longitude and latitude values and ensure your map container is correctly set up if embedding in a Shiny app or R Markdown document.</li>
<li><strong><em>Incorrect CRS:</em></strong> If your spatial data doesn’t align, check and transform CRS using functions like <code>st_transform()</code> from the <code>sf</code> package.</li>
<li><strong><em>Slow Performance:</em></strong> If rendering is slow, consider reducing the complexity of your spatial data, using faster algorithms, or rendering smaller sections of the map.</li>
<li><strong><em>Layer Ordering Issues:</em></strong> If some layers are hidden, reorder your ggplot2 layers to ensure that important data is not obscured.</li>
<li><strong><em>Library Conflicts:</em></strong> Sometimes, functions from different libraries can conflict. Ensure you are calling functions with the correct namespace (e.g., <code>ggplot2::geom_point()</code>).</li>
<li><strong><em>Missing Data:</em></strong> Check for <code>NA</code> values in your data, especially in critical columns like longitude and latitude. Handle missing data appropriately.</li>
<li><strong><em>Plot Size:</em></strong> If your plot appears squished or improperly scaled, adjust the plot dimensions using <code>ggsave()</code> or <code>fig.width</code> and <code>fig.height</code> in R Markdown.</li>
<li><strong><em>Browser Compatibility:</em></strong> For <code>leaflet</code> maps, ensure you are using a compatible web browser, and try refreshing the page if the map does not load.</li>
<li><strong><em>Dependency Issues:</em></strong> Make sure all necessary packages and their dependencies are installed and up to date. Use <code>install.packages()</code> to install missing packages.</li>
<li><strong><em>Resource Limits:</em></strong> For interactive maps, ensure your system has sufficient resources (memory, processing power) to handle large datasets and complex visualizations.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="faqs" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> FAQs</h1>
<p>Q: Can I save my interactive map as an HTML file?</p>
<p>A: Yes, use the <code>saveWidget()</code> function from the <code>htmlwidgets</code> package.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(htmlwidgets)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">saveWidget</span>(m, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">file =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"interactive_map.html"</span>)</span></code></pre></div>
<p>Q: How do I add custom icons to my markers?</p>
<p>A: You can use the <code>makeIcon()</code> function to add custom icons.</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1">custom_icon <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">makeIcon</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">iconUrl =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path/to/icon.png"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">iconWidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">iconHeight =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>)</span>
<span id="cb4-2">leaflet_map <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">leaflet</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-3">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addTiles</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-4">  leaflet<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">addMarkers</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lng =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.09</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lat =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">51.505</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">icon =</span> custom_icon)</span>
<span id="cb4-5">leaflet_map</span></code></pre></div>
</section>
<section id="conclusion" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Conclusion</h1>
<p>Creating maps in R is a valuable skill for data visualization. With <code>ggplot2</code>, you can make static maps, and with <code>leaflet</code>, you can create interactive maps that provide a more engaging user experience. Experiment with different features and customization options to make your maps stand out. Happy mapping!</p>
</section>
<section id="additional-resources" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Additional Resources</h1>
<ul>
<li><a href="https://ggplot2-book.org/maps"><code>ggplot2</code></a> Documentation</li>
<li><a href="https://rstudio.github.io/leaflet/articles/leaflet.html"><code>leaflet</code></a> for R Documentation</li>
<li><a href="https://r-graphics.org/recipe-miscgraph-map">Maps Cookbook</a></li>
</ul>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{kumar jagadeesan2024,
  author = {Kumar Jagadeesan, Kishore},
  title = {Creating {Interactive} {Maps} with {R:} {A} {Beginner’s}
    {Guide} {Using} Ggplot2 and Leaflet},
  date = {2024-07-11},
  url = {https://jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/},
  langid = {en}
}
</code></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kumar jagadeesan2024" class="csl-entry quarto-appendix-citeas">
Kumar Jagadeesan, Kishore. 2024. <span>“Creating Interactive Maps with
R: A Beginner’s Guide Using Ggplot2 and Leaflet.”</span> July 11, 2024.
<a href="https://jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/">https://jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/</a>.
</div></div></section></div> ]]></description>
  <category>R</category>
  <category>R Tutorial</category>
  <category>Maps</category>
  <category>ggplot</category>
  <category>leaflet</category>
  <category>tidyverse</category>
  <category>environmental monitoring</category>
  <guid>jkkishore85.github.io/tutorials/2024-07-11-rtutorial-map-01/</guid>
  <pubDate>Wed, 10 Jul 2024 23:00:00 GMT</pubDate>
</item>
</channel>
</rss>
